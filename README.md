이 프로그램은 대학 연합 커뮤니트 유캔(UCAN)에서 사용할 식단 크롤러입니다.

식단을 제공하는 대학 대상(ARS 대학코드)은 다음과 같습니다. 계속 추가될 예정입니다.

1. 동덕여자대학교(112)
2. 덕성여자대학교(110)
3. 한성대학교(555)
4. 한양대학교 에리카캠퍼스(01)
5. 인하대학교(171)
6. 명지대학교 인문캠퍼스(25)
7. 삼육대학교(36)
8. 광운대학교(106)
9. 동아대학교 승학캠퍼스, 구덕/부민캠퍼스(267)

*참고한 앱은 카이스트팀에서 제작한 '밥대생'입니다.
모든 정보를 가져오지는 않고, 필요하다고 판단된 대상만 가져옵니다.
모든 대학이 쉬는 날이나 특별한 날에 대한 정해진 포맷이 없어서, 가끔은 문제가 있을 수 있습니다.
필요시 예외처리를 추가할 예정입니다.

Database는 Mysql을 기준으로 구현되어 있습니다.

사용한 언어는 Ruby이며, Ruby on Rails을 활용하여 동작합니다.

사용한 Gem은 다음과 같습니다.

1. 'nokogiri'
2. 'open-uri'
3. 'json'
4. 'net/http'
5. 'whenever'

동작 순서는 다음과 같습니다.

1. 각 대학별로 'open-uri'를 통해 request 요청으로 얻어진 데이터를 'nokogiri'로 parsing 합니다.
(request시 대상 페이지에 문제의 가능성을 고려해 rescue로 예외처리 및 복구처리합니다.)
(전체 Process는 diets_controller.rb에서 처리하고, 각 대학은 하나의 클래스로 만들어 처리합니다.)
2. 월~일(금)과 각 식단에 맞추어 데이터를 형성하고, 테이블에 추가합니다. Table.create로 처리합니다.
3. 중복 처리를 합니다. model에서 uniqueness로 처리합니다.
4. 모든 작업은 월요일에만 이루어지도록 설정합니다. today.monday?로 처리합니다.
5. 각 작업은 'whenever'을 사용하여 crontab에 작업을 올리고, 매주 월요일 2AM에 동작하도록 설정합니다.